// Oracle/sweep functions carry many configuration parameters by design.
// Numeric loops on projections/amplitudes/scores use index access for clarity.
#![allow(clippy::too_many_arguments, clippy::needless_range_loop)]

//! # rustynum-oracle
//!
//! Three-temperature holographic oracle with exhaustive capacity sweep.
//!
//! This crate implements two things:
//!
//! 1. **Capacity sweep** — test every combination of D, base, signing, axes, K,
//!    and bind depth to find the sweet spot for holographic storage.
//!
//! 2. **Three-temperature oracle** — one oracle per entity with hot/warm/cold tiers,
//!    overexposure-triggered flush, and coefficient-as-canonical-storage.
//!
//! The oracle is the thinking/storage tier. The 8KB CogRecordV3 in `rustynum-holo`
//! remains as the fast-rejection search tier.

pub mod aiwar_ghost;
pub mod ghost_discovery;
pub mod linalg;
pub mod nars;
pub mod oracle;
pub mod organic;
pub mod recognize;
pub mod sweep;

pub use linalg::{cholesky_solve, condition_number, downsample_to_base, upsample_to_f32};

pub use sweep::{
    bind, bind_deep, bundle, generate_template, generate_templates, measure_bell_coefficient,
    measure_recovery, measure_recovery_multiaxis, run_sweep, AxisResult, Base, MultiAxisResult,
    RecoveryResult, AXES, BASES, BIND_DEPTHS, BUNDLE_SIZES, DIMS,
};

pub use oracle::{FlushAction, MaterializedHolograph, Oracle, Temperature, TemplateLibrary};

pub use organic::FlushAction as OrganicFlushAction;
pub use organic::{
    measure_recovery_organic, organic_flush, organic_read, organic_results_to_csv, organic_write,
    organic_write_f32, receptivity, run_absorption_stress_test, run_organic_sweep,
    run_plasticity_comparison, stress_test_absorption, AbsorptionTracker, FlushResult,
    MultiResPattern, OrganicResult, OrganicWAL, PlasticityTracker, StressPoint, WriteResult,
    XTransPattern, ORGANIC_CHANNELS, ORGANIC_PLASTICITY,
};

pub use nars::{
    bf16_granger_causal_map,
    bf16_granger_causal_scan,
    bf16_reverse_trace,
    classify_learning_event,
    find_similar_pairs,
    forward_bind,
    granger_scan,
    granger_signal,
    reverse_trace,
    reverse_unbind,
    unbind,
    BF16CausalTrace,
    // BF16 causal pipeline
    BF16Entity,
    BF16LearningEvent,
    BF16TraceStep,
    CausalFeatureMap,
    CausalTrace,
    Entity as NarsEntity,
    LearningInterpretation,
    Role as NarsRole,
    SimilarPair,
    TraceStep,
};

pub use recognize::{
    hamming_64k, hamming_similarity_64k, print_recognition_results, run_recognition,
    run_recognition_experiment, run_recognition_sweep, run_recognition_sweep_fast,
    ExperimentResult, Projector64K, RecognitionMethod, RecognitionResult, Recognizer,
};
